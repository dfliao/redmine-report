# Redmine Report Generator

ğŸš€ Automated Redmine reporting system with email delivery, designed for container deployment (Docker, n8n, Synology NAS).

## ğŸ“Š Features

- **é›™è¡¨æ ¼å ±è¡¨ç³»çµ±**ï¼š
  - ğŸ“ˆ **çµ±è¨ˆè¡¨æ ¼**ï¼š14å¤©å…§é€²è¡Œä¸­è­°é¡Œæ•¸é‡çµ±è¨ˆï¼ˆä¾è¢«åˆ†æ´¾è€…å’Œç‹€æ…‹åˆ†é¡ï¼‰
  - ğŸ“‹ **æ¸…å–®è¡¨æ ¼**ï¼š14å¤©å…§å®Œå·¥é€²è¡Œä¸­è­°é¡Œè©³ç´°æ¸…å–®
- **ğŸ“§ è‡ªå‹• Email ç™¼é€**ï¼šå¯„é€çµ¦æ‰€æœ‰ä»»å‹™è­°é¡Œçš„è¢«åˆ†æ´¾è€…
- **ğŸ³ å®¹å™¨åŒ–éƒ¨ç½²**ï¼šæ”¯æ´ Dockerã€Synology Container Manager
- **ğŸ”— n8n æ•´åˆ**ï¼šæä¾› API ç«¯é»ä¾› n8n å·¥ä½œæµç¨‹èª¿ç”¨
- **â° æ’ç¨‹åŸ·è¡Œ**ï¼šæ”¯æ´ cron æ ¼å¼çš„å®šæ™‚åŸ·è¡Œ

## ğŸ—ï¸ å°ˆæ¡ˆçµæ§‹

```
redmine-report/
â”œâ”€â”€ ğŸ“‹ CLAUDE.md              # Claude Code æ“ä½œè¦å‰‡
â”œâ”€â”€ ğŸ“– README.md              # å°ˆæ¡ˆèªªæ˜æ–‡ä»¶
â”œâ”€â”€ ğŸ³ Dockerfile             # å®¹å™¨åŒ–é…ç½®
â”œâ”€â”€ ğŸ™ docker-compose.yml     # Docker Compose è¨­å®š
â”œâ”€â”€ ğŸ“¦ requirements.txt       # Python ç›¸ä¾å¥—ä»¶
â”œâ”€â”€ ğŸš« .gitignore             # Git å¿½ç•¥è¦å‰‡
â”œâ”€â”€ ğŸ“ src/                   # åŸå§‹ç¢¼ç›®éŒ„
â”‚   â”œâ”€â”€ main/python/          # Python æ‡‰ç”¨ç¨‹å¼ç¢¼
â”‚   â”‚   â”œâ”€â”€ core/             # æ ¸å¿ƒå•†æ¥­é‚è¼¯
â”‚   â”‚   â”œâ”€â”€ services/         # æœå‹™å±¤ (Redmine API, Email)
â”‚   â”‚   â”œâ”€â”€ models/           # è³‡æ–™æ¨¡å‹
â”‚   â”‚   â””â”€â”€ utils/            # å·¥å…·å‡½å¼
â”‚   â””â”€â”€ test/                 # æ¸¬è©¦ç¨‹å¼ç¢¼
â”œâ”€â”€ ğŸ“ docs/                  # æ–‡ä»¶ç›®éŒ„
â”œâ”€â”€ ğŸ“ output/                # å ±è¡¨è¼¸å‡ºç›®éŒ„
â””â”€â”€ ğŸ”§ tools/                 # é–‹ç™¼å·¥å…·

```

## ğŸš€ å¿«é€Ÿé–‹å§‹

### 1. ä½¿ç”¨ Docker Compose (æ¨è–¦)

```bash
# 1. è¤‡è£½ç’°å¢ƒè®Šæ•¸ç¯„æœ¬
cp .env.example .env

# 2. ç·¨è¼¯é…ç½®æª”æ¡ˆ
nano .env

# 3. å•Ÿå‹•æœå‹™
docker-compose up -d

# 4. æª¢æŸ¥æœå‹™ç‹€æ…‹
curl http://localhost:8000/health
```

### 2. æ‰‹å‹•è§¸ç™¼å ±è¡¨ç”Ÿæˆ

```bash
# é€é API è§¸ç™¼ (é©ç”¨æ–¼ n8n)
curl -X POST http://localhost:8000/generate-report

# æª¢æŸ¥æœå‹™ç‹€æ…‹
curl http://localhost:8000/status
```

### 3. æœ¬åœ°é–‹ç™¼

```bash
# å®‰è£ç›¸ä¾å¥—ä»¶
pip install -r requirements.txt

# è¨­å®šç’°å¢ƒè®Šæ•¸
export REDMINE_URL="http://your-redmine.com"
export REDMINE_API_KEY="your_api_key"

# åŸ·è¡Œä¸€æ¬¡æ€§å ±è¡¨ç”Ÿæˆ
python -m src.main.python.core.main --standalone

# æˆ–å•Ÿå‹• API æœå‹™å™¨
python -m src.main.python.core.main
```

## âš™ï¸ é…ç½®èªªæ˜

### ç’°å¢ƒè®Šæ•¸

| è®Šæ•¸å | èªªæ˜ | ç¯„ä¾‹ |
|--------|------|------|
| `REDMINE_URL` | Redmine ä¼ºæœå™¨ç¶²å€ | `http://redmine.company.com` |
| `REDMINE_API_KEY` | Redmine API é‡‘é‘° | `abc123...` |
| `SMTP_HOST` | SMTP ä¼ºæœå™¨ | `smtp.gmail.com` |
| `SMTP_USERNAME` | é›»å­éƒµä»¶å¸³è™Ÿ | `reports@company.com` |
| `SMTP_PASSWORD` | é›»å­éƒµä»¶å¯†ç¢¼ | `app_password` |
| `REPORT_DAYS` | å ±è¡¨å¤©æ•¸ç¯„åœ | `14` |
| `SCHEDULE_CRON` | æ’ç¨‹è¨­å®š (cron æ ¼å¼) | `0 8 * * 1` (æ¯é€±ä¸€æ—©ä¸Š8é») |

## ğŸ”§ n8n æ•´åˆ

### ä½¿ç”¨ HTTP Request ç¯€é»

```javascript
{
  "method": "POST",
  "url": "http://redmine-report:8000/generate-report",
  "headers": {
    "Content-Type": "application/json"
  },
  "body": {
    "force": true
  }
}
```

### æ’ç¨‹è§¸ç™¼ç¯„ä¾‹

1. **Cron ç¯€é»**ï¼šè¨­å®šç‚ºæ¯é€±ä¸€æ—©ä¸Š 8:00 åŸ·è¡Œ
2. **HTTP Request ç¯€é»**ï¼šèª¿ç”¨ `/generate-report` ç«¯é»
3. **æ¢ä»¶åˆ¤æ–·ç¯€é»**ï¼šæª¢æŸ¥å›æ‡‰ç‹€æ…‹
4. **é€šçŸ¥ç¯€é»**ï¼šç™¼é€åŸ·è¡Œçµæœé€šçŸ¥

## ğŸ“Š å ±è¡¨å…§å®¹

### ç¬¬ä¸€å€‹è¡¨æ ¼ï¼šè­°é¡Œæ•¸é‡çµ±è¨ˆ
- **åˆ—**ï¼šè¢«åˆ†æ´¾è€…å§“å
- **æ¬„**ï¼šè­°é¡Œç‹€æ…‹ï¼ˆæ“¬å®šä¸­ã€åŸ·è¡Œä¸­ã€å¾…å¯©æ ¸ã€ä¿®æ­£ä¸­ã€å·²å›æ‡‰ã€å·²å®Œæˆã€æš«åœã€å–æ¶ˆï¼‰
- **å…§å®¹**ï¼šå„ç‹€æ…‹è­°é¡Œæ•¸é‡

### ç¬¬äºŒå€‹è¡¨æ ¼ï¼šè­°é¡Œè©³ç´°æ¸…å–®
- **è¿½è¹¤æ¨™ç±¤**ï¼šè­°é¡Œè¿½è¹¤ç·¨è™Ÿ
- **ç‹€æ…‹**ï¼šç•¶å‰ç‹€æ…‹
- **å„ªå…ˆæ¬Š**ï¼šè­°é¡Œå„ªå…ˆç­‰ç´š
- **ä¸»æ—¨**ï¼šè­°é¡Œæ¨™é¡Œ
- **è¢«åˆ†æ´¾è€…**ï¼šè² è²¬äººå“¡
- **å®Œå·¥æ—¥æœŸ**ï¼šé è¨ˆå®Œæˆæ—¥æœŸ
- **é–‹å§‹æ—¥æœŸ**ï¼šè­°é¡Œé–‹å§‹æ—¥æœŸ
- **æ›´æ–°æ—¥æœŸ**ï¼šæœ€å¾Œæ›´æ–°æ™‚é–“

## ğŸ³ Synology NAS éƒ¨ç½²

1. é–‹å•Ÿ **Container Manager**
2. å»ºç«‹å°ˆæ¡ˆï¼Œä¸Šå‚³ `docker-compose.yml`
3. è¨­å®šç’°å¢ƒè®Šæ•¸æª”æ¡ˆ `.env`
4. å•Ÿå‹•å®¹å™¨æœå‹™
5. æª¢æŸ¥å®¹å™¨å¥åº·ç‹€æ…‹

## ğŸ› ï¸ é–‹ç™¼æŒ‡å—

è«‹å…ˆé–±è®€ `CLAUDE.md` äº†è§£å°ˆæ¡ˆé–‹ç™¼è¦å‰‡ï¼š

- âœ… éµå¾ª CLAUDE.md ä¸­çš„æ‰€æœ‰è¦ç¯„
- âœ… ç¨‹å¼ç¢¼æ”¾åœ¨é©ç•¶çš„æ¨¡çµ„çµæ§‹ä¸­
- âœ… æ¯å®Œæˆä¸€å€‹åŠŸèƒ½å°±æäº¤ commit
- âœ… ä½¿ç”¨ Task agents è™•ç†é•·æ™‚é–“æ“ä½œ
- âœ… é¿å…å»ºç«‹é‡è¤‡åŠŸèƒ½çš„æª”æ¡ˆ

## ğŸ“ æˆæ¬Šèˆ‡è‡´è¬

**ğŸ¯ Template by Chang Ho Chien | HC AI èªªäººè©±channel | v1.0.0**  
ğŸ“º Tutorial: https://youtu.be/8Q1bRZaHH24